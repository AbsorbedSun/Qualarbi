<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Qualarbi</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../public/css/main.css" />
    <link rel="stylesheet" href="../public/css/components.css" />
    <link rel="stylesheet" href="../public/css/dashboard.css" />
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body class="bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900">
    <div class="flex h-screen overflow-hidden">
      <!-- Sidebar Container - Se carga dinámicamente -->
      <div id="sidebar-container"></div>

      <!-- Main Content -->
      <div class="flex-1 flex flex-col overflow-hidden">
        <!-- Top Bar -->
        <header
          class="bg-gray-800/30 backdrop-blur-xl border-b border-white/10 px-8 py-4"
        >
          <div class="flex items-center justify-between">
            <!-- Search -->
            <div class="flex-1 max-w-xl">
              <div class="relative">
                <i
                  data-lucide="search"
                  class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"
                  size="20"
                ></i>
                <input
                  type="text"
                  placeholder="Buscar tareas, profesores, materias..."
                  class="w-full pl-12 pr-4 py-2.5 bg-gray-700/50 border border-white/10 rounded-2xl text-sm text-white placeholder-gray-400 focus:border-green-500 focus:ring-2 focus:ring-primary-500/20 outline-none transition-all"
                />
                <div
                  class="absolute right-4 top-1/2 -translate-y-1/2 text-xs text-gray-500 font-mono"
                >
                  ⌘ F
                </div>
              </div>
            </div>

            <!-- Actions -->
            <div class="flex items-center gap-4 ml-6">
              <!-- Notifications -->
              <button
                class="relative p-2 rounded-2xl hover:bg-white/10 transition-colors"
              >
                <i data-lucide="bell" size="20" class="text-gray-300"></i>
                <span
                  class="absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"
                ></span>
              </button>

              <!-- Messages -->
              <button
                class="relative p-2 rounded-2xl hover:bg-white/10 transition-colors"
              >
                <i data-lucide="mail" size="20" class="text-gray-300"></i>
              </button>

              <!-- User Profile -->
              <div
                class="flex items-center gap-3 pl-4 border-l border-white/10"
              >
                <div class="text-right hidden sm:block">
                  <div class="text-sm font-semibold">Totok Michael</div>
                  <div class="text-xs text-gray-400">tmichael2@gmail.com</div>
                </div>
                <div
                  class="w-10 h-10 rounded-2xl bg-gradient-to-br from-green-500 to-green-700 flex items-center justify-center text-white font-semibold cursor-pointer hover:scale-105 transition-transform"
                >
                  TM
                </div>
              </div>
            </div>
          </div>
        </header>

        <!-- Page Content -->
        <main class="flex-1 overflow-y-auto p-8">
          <!-- Page Header -->
          <div class="mb-8">
            <div class="flex items-center justify-between mb-2">
              <h1 class="text-4xl font-bold text-white">Dashboard</h1>
              <div class="flex items-center justify-end gap-3">
                <button class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-700/50 border border-white/10 text-gray-200 hover:bg-gray-700 hover:border-white/20 transition-all">
                  <i data-lucide="download" size="18"></i>
                  Importar Datos
                </button>
                <button class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-green-500/90 text-white hover:bg-green-500 hover:scale-105 transition-all shadow-lg shadow-green-500/20">
                  <i data-lucide="plus" size="18"></i>
                  Nuevo Proyecto
                </button>
              </div>
            </div>
            <p class="text-gray-300">
              Planifica, prioriza y gestiona tus horarios con facilidad.
            </p>
          </div>

          <!-- Stats Cards -->
          <div class="dashboard-grid mb-8">
            <!-- Total Projects -->
            <div class="card-primary hover:scale-105 transition-transform">
              <div class="flex items-start justify-between mb-4">
                <div>
                  <div class="text-sm text-gray-300 mb-2">Total Proyectos</div>
                  <div class="text-4xl font-bold text-white">24</div>
                </div>
                <div
                  class="w-12 h-12 rounded-2xl bg-white/10 flex items-center justify-center"
                >
                  <i data-lucide="folder" size="24" class="text-white"></i>
                </div>
              </div>
              <div class="flex items-center gap-2 text-sm">
                <div class="flex items-center text-green-400">
                  <i data-lucide="trending-up" size="16"></i>
                  <span class="ml-1">+12%</span>
                </div>
                <span class="text-gray-300">desde el mes pasado</span>
              </div>
            </div>

            <!-- Ended Projects -->
            <div class="card hover:scale-105 transition-transform">
              <div class="flex items-start justify-between mb-4">
                <div>
                  <div class="text-sm text-gray-300 mb-2">
                    Proyectos Finalizados
                  </div>
                  <div class="text-4xl font-bold text-white">10</div>
                </div>
                <div
                  class="w-12 h-12 rounded-2xl bg-green-500/20 flex items-center justify-center"
                >
                  <i
                    data-lucide="check-circle-2"
                    size="24"
                    class="text-green-400"
                  ></i>
                </div>
              </div>
              <div class="flex items-center gap-2 text-sm">
                <div class="flex items-center text-green-400">
                  <i data-lucide="trending-up" size="16"></i>
                  <span class="ml-1">+8%</span>
                </div>
                <span class="text-gray-300">desde el mes pasado</span>
              </div>
            </div>

            <!-- Running Projects -->
            <div class="card hover:scale-105 transition-transform">
              <div class="flex items-start justify-between mb-4">
                <div>
                  <div class="text-sm text-gray-300 mb-2">
                    Proyectos Activos
                  </div>
                  <div class="text-4xl font-bold text-white">12</div>
                </div>
                <div
                  class="w-12 h-12 rounded-2xl bg-blue-500/20 flex items-center justify-center"
                >
                  <i data-lucide="activity" size="24" class="text-blue-400"></i>
                </div>
              </div>
              <div class="flex items-center gap-2 text-sm">
                <div class="flex items-center text-green-400">
                  <i data-lucide="trending-up" size="16"></i>
                  <span class="ml-1">+5%</span>
                </div>
                <span class="text-gray-300">desde el mes pasado</span>
              </div>
            </div>

            <!-- Pending Project -->
            <div class="card hover:scale-105 transition-transform">
              <div class="flex items-start justify-between mb-4">
                <div>
                  <div class="text-sm text-gray-300 mb-2">
                    Proyectos Pendientes
                  </div>
                  <div class="text-4xl font-bold text-white">2</div>
                </div>
                <div
                  class="w-12 h-12 rounded-2xl bg-orange-500/20 flex items-center justify-center"
                >
                  <i data-lucide="clock" size="24" class="text-orange-400"></i>
                </div>
              </div>
              <div class="text-sm text-gray-400">En Discusión</div>
            </div>
          </div>

          <!-- Charts and Info Row -->
          <div class="grid lg:grid-cols-3 gap-6 mb-8">
            <!-- Project Analytics Chart -->
            <div class="lg:col-span-2 card">
              <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-semibold text-white">Análisis de Proyectos</h3>
                <button
                  class="text-sm text-gray-400 hover:text-white flex items-center gap-2"
                >
                  Este Mes
                  <i data-lucide="chevron-down" size="16"></i>
                </button>
              </div>
              <canvas id="projectChart" height="80"></canvas>
            </div>

            <!-- Reminders -->
            <div class="card">
              <div class="flex items-center justify-between mb-6">
                <h3 class="text-xl font-semibold text-white">Recordatorios</h3>
                <button
                  class="text-sm text-green-400 hover:text-green-300 flex items-center gap-1"
                >
                  <i data-lucide="plus" size="16"></i>
                  Nuevo
                </button>
              </div>

              <div class="space-y-4">
                <div
                  class="p-4 rounded-2xl bg-green-500/10 border border-green-500/20"
                >
                  <div class="font-semibold mb-2 text-white">Reunión con Arc Company</div>
                  <div class="text-sm text-gray-400 mb-3">
                    Hoy • 2:00 pm - 4:00 pm
                  </div>
                  <button class="btn-primary w-full py-2 text-sm">
                    <i data-lucide="video" size="16"></i>
                    Iniciar Reunión
                  </button>
                </div>

                <div
                  class="p-4 rounded-2xl bg-gray-700/50 border border-white/10"
                >
                  <div class="font-semibold mb-2 text-white">Revisión de Horarios</div>
                  <div class="text-sm text-gray-400">Mañana • 10:00 am</div>
                </div>
              </div>
            </div>
          </div>

          <!-- Bottom Row - Reorganized in 2 columns -->
          <div class="grid md:grid-cols-2 gap-6">
            <!-- Left Column: Team Collaboration + Project Progress -->
            <div class="space-y-6">
              <!-- Team Collaboration -->
              <div class="card">
                <div class="flex items-center justify-between mb-6">
                  <h3 class="text-xl font-semibold text-white">Colaboración del Equipo</h3>
                  <button
                    class="text-sm text-green-400 hover:text-green-300 flex items-center gap-1"
                  >
                    <i data-lucide="user-plus" size="16"></i>
                    Agregar
                  </button>
                </div>

                <div class="space-y-4">
                  <!-- Member 1 -->
                  <div
                    class="flex items-center gap-3 p-3 rounded-2xl hover:bg-white/5 transition-colors"
                  >
                    <div
                      class="w-10 h-10 rounded-full bg-gradient-to-br from-green-500 to-green-700 flex items-center justify-center text-white font-semibold flex-shrink-0"
                    >
                      AD
                    </div>
                    <div class="flex-1 min-w-0">
                      <div class="font-semibold truncate text-white">Alexandra Deff</div>
                      <div class="text-xs text-gray-400 truncate">
                        Github Project Repository
                      </div>
                    </div>
                    <span class="badge badge-success flex-shrink-0"
                      >Completed</span
                    >
                  </div>

                  <!-- Member 2 -->
                  <div
                    class="flex items-center gap-3 p-3 rounded-2xl hover:bg-white/5 transition-colors"
                  >
                    <div
                      class="w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-blue-700 flex items-center justify-center text-white font-semibold flex-shrink-0"
                    >
                      EA
                    </div>
                    <div class="flex-1 min-w-0">
                      <div class="font-semibold truncate text-white">Edwin Adenike</div>
                      <div class="text-xs text-gray-400 truncate">
                        Integrate User Authentication System
                      </div>
                    </div>
                    <span class="badge badge-warning flex-shrink-0"
                      >In Progress</span
                    >
                  </div>

                  <!-- Member 3 -->
                  <div
                    class="flex items-center gap-3 p-3 rounded-2xl hover:bg-white/5 transition-colors"
                  >
                    <div
                      class="w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-purple-700 flex items-center justify-center text-white font-semibold flex-shrink-0"
                    >
                      IO
                    </div>
                    <div class="flex-1 min-w-0">
                      <div class="font-semibold truncate text-white">
                        Isaac Oluwatemiloun
                      </div>
                      <div class="text-xs text-gray-400 truncate">
                        Develop Search and Filter Functionality
                      </div>
                    </div>
                    <span class="badge badge-danger flex-shrink-0">Pending</span>
                  </div>

                  <!-- Member 4 -->
                  <div
                    class="flex items-center gap-3 p-3 rounded-2xl hover:bg-white/5 transition-colors"
                  >
                    <div
                      class="w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-orange-700 flex items-center justify-center text-white font-semibold flex-shrink-0"
                    >
                      DO
                    </div>
                    <div class="flex-1 min-w-0">
                      <div class="font-semibold truncate text-white">David Oshodi</div>
                      <div class="text-xs text-gray-400 truncate">
                        Responsive Layout for Homepage
                      </div>
                    </div>
                    <span class="badge badge-warning flex-shrink-0"
                      >In Progress</span
                    >
                  </div>
                </div>
              </div>

              <!-- Project Progress -->
              <div class="card">
                <h3 class="text-xl font-semibold mb-6">Progreso del Proyecto</h3>

                <div class="flex items-center justify-center mb-6">
                  <div class="relative w-48 h-48">
                    <svg class="transform -rotate-90 w-48 h-48">
                      <circle
                        cx="96"
                        cy="96"
                        r="88"
                        stroke="currentColor"
                        stroke-width="12"
                        fill="transparent"
                        class="text-gray-700"
                      />
                      <circle
                        cx="96"
                        cy="96"
                        r="88"
                        stroke="currentColor"
                        stroke-width="12"
                        fill="transparent"
                        stroke-dasharray="552.92"
                        stroke-dashoffset="220"
                        class="text-green-500"
                        stroke-linecap="round"
                      />
                    </svg>
                    <div
                      class="absolute inset-0 flex flex-col items-center justify-center"
                    >
                      <div class="text-5xl font-bold text-gradient">41%</div>
                      <div class="text-sm text-gray-400">Finalizado</div>
                    </div>
                  </div>
                </div>

                <div class="space-y-3">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-2">
                      <div class="w-3 h-3 rounded-full bg-green-500"></div>
                      <span class="text-sm text-gray-200">Completado</span>
                    </div>
                    <span class="font-semibold text-white">10</span>
                  </div>
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-2">
                      <div class="w-3 h-3 rounded-full bg-blue-500"></div>
                      <span class="text-sm text-gray-200">En Progreso</span>
                    </div>
                    <span class="font-semibold text-white">12</span>
                  </div>
                  <div class="flex items-center justify-between">
                    <div class="flex items-center gap-2">
                      <div class="w-3 h-3 rounded-full bg-orange-500"></div>
                      <span class="text-sm text-gray-200">Pendiente</span>
                    </div>
                    <span class="font-semibold text-white">2</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Right Column: Time Tracker + Recent Projects -->
            <div class="space-y-6">
              <!-- Time Tracker - Improved Design -->
              <div class="card p-4 rounded-2xl bg-gray-800/60 backdrop-blur-xl border border-white/10">
                <div class="flex items-center justify-between mb-4">
                  <h3 class="text-lg font-semibold text-white">Rastreador de Tiempo</h3>
                  <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                </div>
                
                <div class="text-center mb-4">
                  <div class="text-4xl font-bold font-mono text-white mb-2">01:24:08</div>
                  <p class="text-sm text-gray-400">Sesión actual</p>
                </div>
                
                <div class="flex gap-2">
                  <button class="flex-1 inline-flex items-center justify-center gap-2 p-3 rounded-lg bg-green-500/20 hover:bg-green-500/30 text-green-400 transition-all border border-green-500/30">
                    <i data-lucide="pause" size="18"></i>
                    <span class="text-sm font-medium">Pausar</span>
                  </button>
                  <button class="flex-1 inline-flex items-center justify-center gap-2 p-3 rounded-lg bg-red-500/20 hover:bg-red-500/30 text-red-400 transition-all border border-red-500/30">
                    <i data-lucide="square" size="18"></i>
                    <span class="text-sm font-medium">Detener</span>
                  </button>
                </div>
              </div>

              <!-- Recent Projects -->
              <div class="card">
                <div class="flex items-center justify-between mb-4">
                  <h3 class="text-lg font-semibold text-white">Proyectos</h3>
                  <button
                    class="text-sm text-green-400 hover:text-green-300 flex items-center gap-1"
                  >
                    <i data-lucide="plus" size="16"></i>
                    Nuevo
                  </button>
                </div>

                <div class="space-y-3">
                  <div
                    class="flex items-center gap-3 p-2 rounded-lg hover:bg-white/5 transition-colors cursor-pointer"
                  >
                    <div
                      class="w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center flex-shrink-0"
                    >
                      <i data-lucide="code" size="16" class="text-blue-400"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                      <div class="text-sm font-medium truncate text-white">
                        Develop API Endpoints
                      </div>
                      <div class="text-xs text-gray-400">Due: Nov 05, 2024</div>
                    </div>
                  </div>

                  <div
                    class="flex items-center gap-3 p-2 rounded-lg hover:bg-white/5 transition-colors cursor-pointer"
                  >
                    <div
                      class="w-8 h-8 rounded-lg bg-purple-500/20 flex items-center justify-center flex-shrink-0"
                    >
                      <i
                        data-lucide="layout"
                        size="16"
                        class="text-purple-400"
                      ></i>
                    </div>
                    <div class="flex-1 min-w-0">
                      <div class="text-sm font-medium truncate text-white">
                        Onboarding Flow
                      </div>
                      <div class="text-xs text-gray-400">Due: Nov 10, 2024</div>
                    </div>
                  </div>

                  <div
                    class="flex items-center gap-3 p-2 rounded-lg hover:bg-white/5 transition-colors cursor-pointer"
                  >
                    <div
                      class="w-8 h-8 rounded-lg bg-green-500/20 flex items-center justify-center flex-shrink-0"
                    >
                      <i
                        data-lucide="palette"
                        size="16"
                        class="text-green-400"
                      ></i>
                    </div>
                    <div class="flex-1 min-w-0">
                      <div class="text-sm font-medium truncate text-white">
                        Build Dashboard
                      </div>
                      <div class="text-xs text-gray-400">Due: Nov 02, 2024</div>
                    </div>
                  </div>

                  <div
                    class="flex items-center gap-3 p-2 rounded-lg hover:bg-white/5 transition-colors cursor-pointer"
                  >
                    <div
                      class="w-8 h-8 rounded-lg bg-pink-500/20 flex items-center justify-center flex-shrink-0"
                    >
                      <i data-lucide="zap" size="16" class="text-pink-400"></i>
                    </div>
                    <div class="flex-1 min-w-0">
                      <div class="text-sm font-medium truncate text-white">
                        Optimize Page Load
                      </div>
                      <div class="text-xs text-gray-400">Due: Nov 08, 2024</div>
                    </div>
                  </div>

                  <div
                    class="flex items-center gap-3 p-2 rounded-lg hover:bg-white/5 transition-colors cursor-pointer"
                  >
                    <div
                      class="w-8 h-8 rounded-lg bg-orange-500/20 flex items-center justify-center flex-shrink-0"
                    >
                      <i
                        data-lucide="shield"
                        size="16"
                        class="text-orange-400"
                      ></i>
                    </div>
                    <div class="flex-1 min-w-0">
                      <div class="text-sm font-medium truncate text-white">
                        Cross-Browser Testing
                      </div>
                      <div class="text-xs text-gray-400">Due: Dec 06, 2024</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>

    <!-- Scripts -->
    <!-- Sidebar Loader -->
    <script src="../public/js/sidebar-inject.js"></script>
    
    <script>
      lucide.createIcons();

      // Project Analytics Chart
      const ctx = document.getElementById("projectChart");
      new Chart(ctx, {
        type: "bar",
        data: {
          labels: ["L", "M", "Mi", "J", "V", "S", "D"],
          datasets: [
            {
              label: "Proyectos",
              data: [12, 19, 15, 25, 18, 12, 14],
              backgroundColor: function (context) {
                const index = context.dataIndex;
                return index === 3
                  ? "rgba(34, 197, 94, 0.8)"
                  : "rgba(34, 197, 94, 0.3)";
              },
              borderRadius: 8,
              borderSkipped: false,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: true,
          plugins: {
            legend: {
              display: false,
            },
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                color: "rgba(255, 255, 255, 0.05)",
                drawBorder: false,
              },
              ticks: {
                color: "#94a3b8",
              },
            },
            x: {
              grid: {
                display: false,
                drawBorder: false,
              },
              ticks: {
                color: "#94a3b8",
              },
            },
          },
        },
      });
    </script>
  </body>
</html>
